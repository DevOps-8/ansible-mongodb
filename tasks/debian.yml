---
- name: debian | adding mongoDB repo key
  apt_key:
    keyserver: "{{ mongodb_apt_keyserver }}"
    id: "{{ mongodb_apt_gpg_key }}"
    state: "present"

#- name: debian | adding mongoDB apt repo
#  apt_repository:
#    repo: "{{ mongodb_debian_apt_repo }}"
#    state: "present"
#  when: >
#        ansible_distribution == "Debian"

- name: debian | adding mongoDB apt repo
  apt_repository:
    repo: "{{ mongodb_ubuntu_apt_repo }}"
    state: "present"
  when: >
        ansible_distribution == "Ubuntu"

- name: debian | installing mongoDB
  apt:
    name: "{{ item }}"
    state: "present"
  with_items:
    - 'mongodb'
  when: >
        ansible_distribution == "Debian"

- name: debian | installing mongoDB
  apt:
    name: "mongodb-org"
    state: "present"
  when: >
        ansible_distribution == "Ubuntu"
